(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{Z3r4:function(e,t,n){"use strict";n.r(t);n("g9YV");var a=n("wCAj"),r=(n("+L6B"),n("2/Rp")),c=(n("P2fV"),n("NJEC")),i=n("o0o1"),u=n.n(i),o=(n("miYZ"),n("tsqr")),l=n("HaE+"),s=n("KQm4"),d=n("VTBJ"),p=n("ODXe"),f=(n("y8nQ"),n("Vl3Y")),m=(n("giR+"),n("fyUT")),b=n("Ff2n"),h=(n("OaEy"),n("2fM7")),w=(n("5NDa"),n("5rEg")),g=n("q1tI"),y=n.n(g),O=n("dCQc"),v=w["a"].TextArea,j=h["a"].Option,E=function(e){var t=e.editing,n=e.dataIndex,a=e.title,r=e.inputType,c=(e.record,e.index,e.children),i=Object(b["a"])(e,["editing","dataIndex","title","inputType","record","index","children"]),u="number"===r?y.a.createElement(m["a"],null):y.a.createElement(v,{autoSize:!0});return y.a.createElement("td",i,t?y.a.createElement(f["a"].Item,{name:n,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(a,"!")}]},u):c)},x=function(){var e=f["a"].useForm(),t=Object(p["a"])(e,1),n=t[0],i=Object(g["useState"])([]),m=Object(p["a"])(i,2),b=m[0],w=m[1],v=Object(g["useState"])(""),x=Object(p["a"])(v,2),k=x[0],I=x[1],_=Object(g["useState"])("TH"),C=Object(p["a"])(_,2),T=C[0],S=C[1],J=function(e){return e.key===k},V=function(e){e.isJson||(n.setFieldsValue(Object(d["a"])({tag:"",loc_word:"",en:""},e)),I(e.key))},F=function(){var e=Object(s["a"])(b);"default"===k&&(e.splice(0,1),w(e)),I("")},N=function(){var e=Object(l["a"])(u.a.mark((function e(t){var a,r,c,i,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.validateFields();case 3:return a=e.sent,r=Object(s["a"])(b),c="default"===t?0:r.findIndex((function(e){return t===e.key})),e.next=8,Object(O["e"])(T,{tag:"default"===t?a.tag:t,en:a.en,word:a.loc_word});case 8:i=e.sent,i.success?(o["a"].success("ok"),c>-1?(l=r[c],r.splice(c,1,Object(d["a"])({},l,{},a)),w(r),I("")):(r.push(a),w(r),I(""))):o["a"].error(i.message),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("Validate Failed:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();function q(e){var t=/\\u([\d\w]{4})/gi,n=e.replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));return unescape(n)}Object(g["useEffect"])((function(){Object(O["c"])(T).then((function(e){e.success&&w(e.data.map((function(e){return{key:e.tag,tag:e.tag,en:"string"===typeof e.en?e.en:JSON.stringify(e.en),loc_word:q(e.loc_word),isJson:"string"!==typeof e.en}})))}))}),[T]);var H=[{title:"\u6807\u7b7e",dataIndex:"tag",width:"15%",editable:!0},{title:"\u82f1\u6587",dataIndex:"en",width:"30%",editable:!0},{title:"\u7ffb\u8bd1",dataIndex:"loc_word",width:"35%",editable:!0},{title:"operation",dataIndex:"operation",fixed:!0,render:function(e,t){var n=J(t);return n?y.a.createElement("span",null,y.a.createElement("a",{onClick:function(){return N(t.key)},style:{marginRight:8}},"Save"),y.a.createElement(c["a"],{title:"Sure to cancel?",onConfirm:F},y.a.createElement("a",null,"Cancel"))):y.a.createElement("a",{disabled:""!==k,onClick:function(){return V(t)}},"Edit")}}],Q=H.map((function(e){return e.editable?Object(d["a"])({},e,{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:J(t)&&("tag"!==e.dataIndex||"default"===t.tag)}}}):e}));function B(){if(""===k){var e=b.findIndex((function(e){return"default"===e.key}));if(!(e>=0)){var t={key:"default",tag:"default",en:"default",loc_word:"default",isJson:!1};w([t].concat(Object(s["a"])(b))),V(t)}}}return y.a.createElement("div",null,y.a.createElement(r["a"],{type:"primary",style:{marginBottom:10},onClick:function(){return B()}},"\u65b0\u589e\u7ffb\u8bd1"),y.a.createElement(h["a"],{defaultValue:T,style:{marginLeft:10,width:100},onChange:function(e){S(e)}},y.a.createElement(j,{value:"TH"},"\u6cf0\u56fd"),y.a.createElement(j,{value:"VN"},"\u8d8a\u5357"),y.a.createElement(j,{value:"ID"},"\u5370\u5c3c")),y.a.createElement(f["a"],{form:n,component:!1},y.a.createElement(a["a"],{components:{body:{cell:E}},bordered:!0,dataSource:b,columns:Q,rowClassName:"editable-row",pagination:{onChange:F,pageSize:50}})))};t["default"]=x},dCQc:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return b}));var a=n("o0o1"),r=n.n(a),c=n("HaE+"),i=n("t3Un");function u(e){return o.apply(this,arguments)}function o(){return o=Object(c["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/sns/v1/lit/admin/query_reports",{method:"GET",params:{loc:t.loc,dealed:!1,start_ts:t.start_ts}}));case 1:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function l(e){return s.apply(this,arguments)}function s(){return s=Object(c["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/sns/v1/lit/home/online_user_count",{method:"GET",params:{loc:t.loc}}));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return p=Object(c["a"])(r.a.mark((function e(t,n){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/sns/v1/lit/admin/replace_image?file_id=".concat(t),{method:"post",data:n}));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return m=Object(c["a"])(r.a.mark((function e(t){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/sns/v1/lit/admin/region_words?loc=".concat(t),{method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(e,t){return h.apply(this,arguments)}function h(){return h=Object(c["a"])(r.a.mark((function e(t,n){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/sns/v1/lit/admin/upsert_region_word?loc=".concat(t),{method:"POST",data:n}));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}}}]);